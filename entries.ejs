<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="/style.css">
    <style>
        pre {
            font-family: "Arial", sans-serif, monospace;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="box">
        <h1>Details für Proteinkomplex: <%= details.name %></h1>
    </div>
    <p>
        <div class="box">
            <h3>Allgemeine Informationen</h3>
            <pre>
                <p>ID:                  <%= details.complexid %></p>
                <p>Synonyme:            <%= details.synonym %></p>
                <p>Organismus:          <%= details.organismus %></p>
                <p>Zelllinie/Gewebe:    <%= details.cell_line %></p>
            </pre>
        </div>
        <div class="box">
            <h3>Untereinheiten</h3>
            <span id="subname" style="display: none;"><%= details.subname %></span>
            <span id="swissorganismus" style="display: none;"><%= details.swissorganismus %></span>
            <span id="gen" style="display: none;"><%= details.gen %></span>
            <span id="gen_synonym" style="display: none;"><%= details.gen_synonym %></span>
            <span id="uniprot_id" style="display: none;"><%= details.uniprot_id %></span>
            <span id="entrez_id" style="display: none;"><%= details.entrez_id %></span>
                <table id="Untereinheiten" border="1">
                    <thead>
                        <tr>
                        <th>Name</th>
                        <th>Organismus</th>
                        <th>Gen</th>
                        <th>Gen Synonym</th>
                        <th>UniProt ID</th>
                        <th>Entrez ID</th>
                        </tr>
                    </thead>
                    <tbody>
                    <!-- Dynamisch generierte Zeilen werden hier eingefügt -->
                    </tbody>
                </table>
        </div>
        <div class="box">
            <h3>Funktionen</h3>
            <p>FunCat ID: <%= details.funcat_id %></p>
            <p>FunCat Beschreibung: <%= details.fundescription %></p>
            <p>GO ID: <%= details.go_id %></p>
            <p>GO Beschreibung: <%= details.godescription %></p>
        </div>
        <div class="box">
            <h3>Referenzen</h3>
            <p>Aufreinigung Methode: <%= details.purification %></p>
            <p>Komplex Kommentar: <%= details.complex_comment %></p>
            <p>Krankheit Kommentar: <%= details.disease_comment %></p>
            <p>Untereinheiten Kommentar: <%= details.sub_comment %></p>
            <p>PubMed ID:<a href="https://pubmed.ncbi.nlm.nih.gov/<%= details.pubmed_id %>/"><%= details.pubmed_id %></a></p>
        </div>
    </p>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            //<%= details.subname %> <%= details.swissorganismus %> <%= details.gen %>
            const names = document.getElementById("subname").innerText.split(';');
            const organism = document.getElementById("swissorganismus").innerText.split(';');
            const genes = document.getElementById("gen").innerText.split(';');
            const genessyn = document.getElementById("gen_synonym").innerText.split(';');
            const uniprot = document.getElementById("uniprot_id").innerText.split(';');
            const entrez = document.getElementById("entrez_id").innerText.split(';');

            // Tabelle und tbody-Elemente abrufen
            const table = document.getElementById("Untereinheiten");
            const tbody = table.querySelector("tbody");

            for (let i = 0; i < names.length; i++) {
                const row = document.createElement("tr");

                const nameCell = document.createElement("td");
                nameCell.textContent = names[i].trim(); // Leerzeichen entfernen
                row.appendChild(nameCell);

                const organismCell = document.createElement("td");
                organismCell.textContent = organism[i].trim(); // Leerzeichen entfernen
                row.appendChild(organismCell);

                const genesCell = document.createElement("td");
                genesCell.textContent = genes[i].trim(); // Leerzeichen entfernen
                row.appendChild(genesCell);

                const genessynCell = document.createElement("td");
                genessynCell.textContent = genessyn[i].trim(); // Leerzeichen entfernen
                row.appendChild(genessynCell);

                const uniprotCell = document.createElement("td");
                uniprotCell.textContent = uniprot[i].trim(); // Leerzeichen entfernen
                row.appendChild(uniprotCell);

                const entrezCell = document.createElement("td");
                entrezCell.textContent = entrez[i].trim(); // Leerzeichen entfernen
                row.appendChild(entrezCell);

                tbody.appendChild(row);
            }
        });
    </script>
</body>
</html>